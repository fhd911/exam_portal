{% extends "admin/base.html" %}
{% load static i18n %}

{# =========================
   Title
   ========================= #}
{% block title %}لوحة الإدارة | {{ site_title|default:_("Django site admin") }}{% endblock %}

{# =========================
   Styles (Cairo + RTL + small polish)
   ========================= #}
{% block extrastyle %}
  {{ block.super }}

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --ff:"Cairo",system-ui,-apple-system,"Segoe UI",Roboto,Arial;

      --txt:#0f172a;
      --mut:#607185;
      --line:#e7eef6;

      --danger:#b42318;
      --danger2:#d92d20;
    }

    html,body{font-family:var(--ff)!important}
    body{direction:rtl}
    #header, .breadcrumbs, #content, #footer{font-family:var(--ff)!important}
    #header, .breadcrumbs{direction:rtl}

    /* Title weight */
    #site-name a{font-weight:1000}

    /* Top actions */
    .admin-top-actions{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
      margin-top:8px;
    }

    .admin-btn{
      font-family:var(--ff);
      border:1px solid var(--line);
      background:#fff;
      color:var(--txt);
      padding:7px 10px;
      border-radius:10px;
      font-size:12px;
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      line-height:1;
    }
    .admin-btn:hover{filter:brightness(.98)}
    .admin-btn:active{transform:translateY(1px)}

    .admin-btn-danger{
      border-color:transparent;
      background:linear-gradient(135deg,var(--danger),var(--danger2));
      color:#fff;
    }

    /* Avoid admin default link underline in header */
    #header a:link, #header a:visited{text-decoration:none}

    /* Optional: slight subtitle look if you add it later */
    .admin-sub{color:var(--mut);font-size:11px;margin-top:2px}
  </style>
{% endblock %}

{# =========================
   Branding + Actions
   ========================= #}
{% block branding %}
  <h1 id="site-name" style="margin:0;">
    <a href="{% url 'admin:index' %}" style="text-decoration:none;color:inherit;">
      لوحة إدارة نظام الاختبارات
    </a>
  </h1>

  <div class="admin-top-actions">
    <a class="admin-btn" href="{% url 'quiz:staff_manage' %}">لوحة الإدارة (Staff)</a>

    {# ✅ Logout Admin الصحيح: لازم POST حتى لا يظهر 405 #}
    <form method="post" action="{% url 'admin:logout' %}" style="margin:0;display:inline;">
      {% csrf_token %}
      <button class="admin-btn admin-btn-danger" type="submit">خروج الإدارة</button>
    </form>
  </div>
{% endblock %}

{% block nav-global %}{% endblock %}
