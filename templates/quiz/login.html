{% extends "quiz/base.html" %}
{% block title %}ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±{% endblock %}

{% block content %}
<div class="authx-wrap">
  <div class="authx-card card">

    <!-- Header Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ø¨Ø¯ÙˆÙ† Ø£Ø²Ø±Ø§Ø±) -->
    <div class="authx-head">
      <div class="authx-head-left">
        <div class="authx-mark" aria-hidden="true">âœ“</div>
        <div>
          <div class="authx-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±</div>
          <div class="authx-hint">ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„</div>
        </div>
      </div>

      <div class="authx-badge">
        <span class="authx-badge-ico" aria-hidden="true">ğŸ”’</span>
        <span>ØªØ­Ù‚Ù‚ Ø¢Ù…Ù†</span>
      </div>
    </div>

    {% if messages %}
      <div class="authx-msgs">
        {% for message in messages %}
          <div class="authx-msg {% if 'error' in message.tags %}is-err{% endif %}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" action="{% url 'quiz:login' %}">
      {% csrf_token %}

      <div class="authx-grid">

        <div class="authx-field">
          <label class="authx-label">Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ</label>
          <div class="authx-inp">
            <span class="authx-ico" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M4 7.5c0-1.38 1.12-2.5 2.5-2.5h11C19.88 5 21 6.12 21 7.5v9c0 1.38-1.12 2.5-2.5 2.5h-11C5.12 19 4 17.88 4 16.5v-9Z" stroke="currentColor" stroke-width="1.8"/>
                <path d="M8 9.5h6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M8 13h4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M16.5 12.2c.9 0 1.6.7 1.6 1.6s-.7 1.6-1.6 1.6-1.6-.7-1.6-1.6.7-1.6 1.6-1.6Z" stroke="currentColor" stroke-width="1.8"/>
              </svg>
            </span>

            <input
              class="authx-input"
              name="national_id"
              type="text"
              inputmode="numeric"
              pattern="[0-9]{10}"
              maxlength="10"
              autocomplete="off"
              placeholder="Ù…Ø«Ø§Ù„: 10xxxxxxxx"
              aria-label="Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ"
            />
          </div>
          <div class="authx-help">ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† <b>10 Ø£Ø±Ù‚Ø§Ù…</b> Ø¨Ø¯ÙˆÙ† Ù…Ø³Ø§ÙØ§Øª.</div>
        </div>

        <div class="authx-field">
          <label class="authx-label">Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø¬ÙˆØ§Ù„</label>
          <div class="authx-inp">
            <span class="authx-ico" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M9 3.8h6c1.1 0 2 .9 2 2V18.2c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2V5.8c0-1.1.9-2 2-2Z" stroke="currentColor" stroke-width="1.8"/>
                <path d="M10 6.7h4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                <path d="M12 18.2h.01" stroke="currentColor" stroke-width="2.4" stroke-linecap="round"/>
              </svg>
            </span>

            <input
              class="authx-input"
              name="phone_last4"
              type="password"
              inputmode="numeric"
              pattern="[0-9]{4}"
              maxlength="4"
              autocomplete="off"
              placeholder="Ù…Ø«Ø§Ù„: 1234"
              aria-label="Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø¬ÙˆØ§Ù„"
            />
          </div>
          <div class="authx-help">Ø§ÙƒØªØ¨ Ø¢Ø®Ø± <b>4 Ø£Ø±Ù‚Ø§Ù…</b> Ù…Ù† Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø¬Ù„.</div>
        </div>

        <!-- Ø²Ø± Ø¯Ø®ÙˆÙ„ ÙˆØ§Ø¶Ø­ ÙˆØ¨Ù†ÙØ³ Ø®Ø· Ø§Ù„Ù†Ø¸Ø§Ù… -->
        <button class="authx-btn" type="submit">Ø¯Ø®ÙˆÙ„</button>

        <div class="authx-foot">
          ÙÙŠ Ø­Ø§Ù„ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø«Ù… Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.
        </div>

      </div>
    </form>

  </div>
</div>

<style>
  /* âœ… Ù†ÙØ³ Ø®Ø· base */
  .authx-wrap, .authx-wrap *{ font-family: var(--ff); }

  .authx-wrap{
    min-height:calc(100vh - 180px);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px 14px;
  }

  .authx-card{
    width:min(720px, 100%);
    border-radius:22px;
    overflow:hidden;
    position:relative;
  }

  .authx-card:before{
    content:"";
    position:absolute;
    inset:-24px;
    background:
      radial-gradient(520px 240px at 18% 8%, rgba(16,185,129,.16), transparent 60%),
      radial-gradient(520px 240px at 86% 18%, rgba(14,165,233,.14), transparent 60%),
      radial-gradient(560px 260px at 55% 88%, rgba(168,85,247,.12), transparent 60%);
    pointer-events:none;
    z-index:0;
  }

  .authx-head,
  .authx-msgs,
  .authx-grid{ position:relative; z-index:1; }

  .authx-head{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:12px;
    padding:14px 16px 12px;
    border-bottom:1px solid rgba(231,238,246,.95);
    background:rgba(255,255,255,.55);
  }

  .authx-head-left{
    display:flex;
    align-items:center;
    gap:10px;
    min-width:0;
  }

  .authx-mark{
    width:44px;height:44px;border-radius:16px;
    display:flex;align-items:center;justify-content:center;
    color:#fff;font-weight:1000;font-size:16px;
    background:linear-gradient(135deg,var(--g1),var(--g2),var(--g3));
    box-shadow:0 16px 34px rgba(16,185,129,.18);
    flex:0 0 auto;
  }

  .authx-title{
    font-size:16px;
    font-weight:1000;
    letter-spacing:.2px;
    margin:0;
  }
  .authx-hint{
    margin-top:4px;
    color:var(--mut);
    font-size:12px;
    line-height:1.8;
  }

  .authx-badge{
    display:flex;align-items:center;gap:8px;
    padding:8px 10px;
    border-radius:999px;
    border:1px solid rgba(231,238,246,.95);
    background:rgba(255,255,255,.75);
    font-size:12px;
    color:var(--ink);
    white-space:nowrap;
  }

  .authx-msgs{ padding:12px 16px 0; }
  .authx-msg{
    padding:10px 12px;
    border-radius:16px;
    border:1px solid rgba(231,238,246,.95);
    background:rgba(255,255,255,.8);
    color:var(--ink);
    font-size:12px;
    line-height:1.9;
    margin-bottom:10px;
  }
  .authx-msg.is-err{
    border-color: rgba(239,68,68,.25);
    background: rgba(239,68,68,.08);
  }

  .authx-grid{
    padding:14px 16px 16px;
    display:grid;
    gap:12px;
  }

  .authx-label{
    display:block;
    font-size:12px;
    font-weight:1000;
    margin-bottom:6px;
    color:var(--ink);
  }

  .authx-inp{
    display:flex;
    align-items:center;
    gap:10px;
    padding:0 12px;
    height:46px;
    border-radius:18px;
    border:1px solid var(--line);
    background:#fff;
    box-shadow:0 10px 24px rgba(2,44,34,.06);
    transition:.15s ease;
  }

  .authx-ico{
    width:34px;height:34px;border-radius:14px;
    display:flex;align-items:center;justify-content:center;
    background: rgba(16,185,129,.08);
    color: rgba(16,185,129,.98);
    flex:0 0 auto;
  }
  .authx-ico svg{ width:18px; height:18px; }

  .authx-input{
    width:100%;
    border:0;
    outline:0;
    background:transparent;
    font-size:12px;
    padding:0;
  }
  .authx-input::placeholder{ color:#93a4b8; }

  .authx-inp:focus-within{
    border-color: rgba(16,185,129,.38);
    box-shadow:
      0 0 0 4px rgba(16,185,129,.12),
      0 12px 28px rgba(2,44,34,.08);
  }

  .authx-help{
    margin-top:6px;
    font-size:11.5px;
    color:var(--mut);
    line-height:1.8;
  }

  /* âœ… Ø²Ø± Ø¯Ø®ÙˆÙ„ Ø£ÙˆØ¶Ø­ ÙˆØ¨Ù†ÙØ³ Ø§Ù„Ø®Ø· */
  .authx-btn{
    width:100%;
    border:0;
    height:48px;
    border-radius:18px;
    display:flex;
    align-items:center;
    justify-content:center;

    background: linear-gradient(135deg, #047857, #059669, #22c55e);
    box-shadow: 0 18px 36px rgba(5,150,105,.28);

    color:#fff;
    font-size:14px;
    font-weight:1000;
    letter-spacing:.3px;
    text-shadow: 0 1px 0 rgba(0,0,0,.18);

    cursor:pointer;
    transition:.16s ease;
  }
  .authx-btn:hover{
    transform: translateY(-1px);
    filter: brightness(1.02);
  }
  .authx-btn:active{
    transform: translateY(0px);
    filter: brightness(.98);
  }

  .authx-foot{
    text-align:center;
    font-size:11.5px;
    color:var(--mut);
    line-height:1.9;
    margin-top:2px;
  }
</style>
{% endblock %}
